## Лабораторная работа: Разработка веб‑приложения на Django (проект «Polls»)

Лабораторная работа выполнена по официальному туториалу Django 5.1 ([раздел *First steps*](https://docs.djangoproject.com/en/5.1/#first-steps), части 1–7) и посвящена созданию простого приложения опросов.

### Цель работы

- **Освоить базовые принципы разработки веб‑приложений на Django**: структура проекта, модели, маршрутизация, шаблоны, админ‑интерфейс.
- **Закрепить навыки работы с ORM и миграциями**.
- **Научиться писать простые модульные тесты и подключать статические файлы.**

### Постановка задачи

- Создать Django‑проект `mysite` и приложение `polls`.
- Реализовать функциональность:
  - создание вопросов и вариантов ответов;
  - голосование пользователей;
  - просмотр результатов голосования;
  - управление данными через административный интерфейс.

### Ход выполнения работы

#### 1. Создание проекта и приложения

- **Выполнено**:
  - создан файл `manage.py`;
  - создан пакет проекта `mysite` (`settings.py`, `urls.py`, `asgi.py`, `wsgi.py`);
  - создано приложение `polls` (`apps.py`, `models.py`, `views.py`, `urls.py`, `templates/`, `static/`).
- **Замечание**: структура соответствует стандартному шаблону Django‑проекта, что упрощает дальнейшие эксперименты и расширение функциональности.

#### 2. Модели и миграции

- **Выполнено**:
  - описаны модели `Question` и `Choice` в `polls/models.py`;
  - реализован метод `was_published_recently` с метаданными для админки.
- **Особенность**: миграции генерируются локально командой  
  `python manage.py makemigrations polls`, затем применяются командой  
  `python manage.py migrate`.

#### 3. Представления, шаблоны и маршрутизация

- **Выполнено**:
  - настроен корневой роутинг в `mysite/urls.py`, подключающий `polls/urls.py`;
  - добавлены URL‑паттерны в `polls/urls.py` (`index`, `detail`, `results`, `vote`);
  - созданы шаблоны `index.html`, `detail.html`, `results.html` в `polls/templates/polls/`.
- **Комментарий**: логика и имена маршрутов соответствуют туториалу; дополнительно улучшен внешний вид интерфейса и навигация между страницами.

#### 4. Обобщённые представления (generic views)

- **Выполнено**:
  - реализованы `IndexView`, `DetailView`, `ResultsView` в `polls/views.py` на основе `ListView` и `DetailView`;
  - в `get_queryset` добавлена фильтрация по `pub_date <= now` для скрытия будущих вопросов.
- **Вывод**: использование generic views сокращает объём кода и делает его более декларативным и читаемым.

#### 5. Тестирование

- **Выполнено**:
  - написаны тесты для метода `was_published_recently` и представлений `index`/`detail` в `polls/tests.py`;
  - добавлена вспомогательная функция `create_question` для создания тестовых объектов с нужной датой.
- **Вывод**: тесты позволяют зафиксировать ожидаемое поведение на границах (прошлое/будущее время) и упрощают рефакторинг логики.

#### 6. Статические файлы

- **Выполнено**:
  - создан файл стилей `polls/static/polls/style.css`;
  - во всех шаблонах подключены стили через `{% load static %}`.
- **Особенность**: реализована современная тёмная тема с акцентными цветами, чтобы интерфейс лабораторной работы выглядел наглядно и приятно.

#### 7. Админка и улучшения интерфейса администратора

- **Выполнено**:
  - модели `Question` и `Choice` зарегистрированы в `polls/admin.py`;
  - добавлен `QuestionAdmin` с `fieldsets`, inline‑редактором для `Choice`, списком, фильтрацией и поиском;
  - в списке вопросов отображается вычисляемое поле `was_published_recently`.
- **Вывод**: настройка админки демонстрирует типовой подход к быстрому созданию интерфейсов управления данными без дополнительного кода на фронтенде.

### Контрольные вопросы (краткие ответы)

- **Что такое миграции в Django?**  
  Это механизм синхронизации описания моделей в коде с фактической структурой базы данных.

- **Зачем нужны generic views?**  
  Они инкапсулируют типовые паттерны работы с данными (список, детальный просмотр и т.п.), уменьшая объём шаблонного кода.

- **Как подключаются статические файлы в Django?**  
  Через приложение `django.contrib.staticfiles`, тег `{% load static %}` и настройку `STATIC_URL`.

- **Какова роль админ‑интерфейса?**  
  Быстрое создание CRUD‑интерфейса для моделей без написания отдельных представлений и шаблонов.

### Выводы

- В ходе лабораторной работы был разработан и запущен полноценный мини‑проект на Django, реализующий функциональность системы опросов.
- Освоены базовые элементы фреймворка: структура проекта, модели, ORM, миграции, URL‑маршрутизация, шаблоны, статика, тестирование и админ‑интерфейс.
- Полученный код может служить основой для дальнейших лабораторных и курсовых работ (расширение модели данных, авторизация, более сложная бизнес‑логика).

---

### Как запустить проект локально

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```

Затем:
- пользовательская часть опросов будет доступна по адресу `http://127.0.0.1:8000/polls/`;
- админка — `http://127.0.0.1:8000/admin/`.

### Как оформить репозиторий

1. Инициализировать git:
   ```bash
   git init
   git add .
   git commit -m "Django tutorial polls app (parts 1–7)"
   ```
2. Создать репозиторий на GitHub (например, `django-polls-tutorial`) и привязать его:
   ```bash
   git remote add origin https://github.com/<ваш-логин>/django-polls-tutorial.git
   git push -u origin main
   ```

После этого ссылка на репозиторий будет иметь вид  
`https://github.com/<ваш-логин>/django-polls-tutorial` и её можно использовать в качестве результата выполнения туториала.



